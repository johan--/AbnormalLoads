<form name="jobForm">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">Authorities</div>
      <div class="panel-body form-horizontal">

        <div class="form-group">
          <label class="control-label col-md-1">Police:</label>
          <div class="col-md-11">
            <div class="well well-sm authority-container">
              <span class="label label-default" ng-show="data.policeAuthorities.length == 0">No authorities specified</span>
              <span class="label label-info" ng-repeat="p in data.policeAuthorities">
                {{ p.name }}
                <span class="fa fa-times" ng-click="removeAuthority($index, 'police')"></span>
              </span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-1">Council:</label>
          <div class="col-md-11">
            <div class="well well-sm authority-container">
              <span class="label label-default" ng-show="data.councilAuthorities.length == 0">No authorities specified</span>
              <span class="label label-info" ng-repeat="p in data.councilAuthorities">
                {{ p.name }}
                <span class="fa fa-times" ng-click="removeAuthority($index, 'council')"></span>
              </span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-1">Other:</label>
          <div class="col-md-11">
            <div class="well well-sm authority-container">
              <span class="label label-default" ng-show="data.otherAuthorities.length == 0">No authorities specified</span>
              <span class="label label-info" ng-repeat="p in data.otherAuthorities">
                {{ p.name }}
                <span class="fa fa-times" ng-click="removeAuthority($index, 'other')"></span>
              </span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-1">Add:</label>
          <div class="col-md-11">
            <input type="text" class="form-control" ng-model="lookups.selectedAuthority" placeholder="Type authority name" typeahead="a.name for a in filterAuthorities($viewValue)" typeahead-min-length="3" typeahead-editable="false" typeahead-loading="loading" typeahead-wait-ms="300" typeahead-on-select="authoritySelected($item, $model, $label)" />
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <div class="panel panel-default">
      <div class="panel-heading">
        Job Details
        <span class="shift-right">Date Created: {{ data.createdOn | date:"dd/MM/yyyy" }}</span>
      </div>
      <div class="panel-body form-horizontal">

        <div class="row">
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Haulier:</label>
            <div class="col-md-8">
              <input type="text" typeahead="h.haulierName for h in lookups.customers | filter:{haulierName:$viewValue}" typeahead-on-select="setHaulier($item, $model, $label)" class="form-control" ng-model="data.haulierName" ng-required="true" />
            </div>
          </div>

          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Reference:</label>
            <div class="col-md-5">
              <input type="text" class="form-control" ng-model="data.ref" ng-required="true" />
            </div>
            <div class="col-md-3">
              <input type="text" class="form-control" ng-model="data.suffix" ng-required="true" />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Date from:</label>
            <div class="col-md-8">
              <input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="data.dateFrom" ng-required="true" close-text="Close" />
            </div>
          </div>

          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Date to:</label>
            <div class="col-md-8">
              <input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="data.dateTo" ng-required="true" close-text="Close" />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">From Address:</label>
            <div class="col-md-8">
              <textarea class="form-control" ng-model="data.addressFrom" ng-required="true"></textarea>
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">To Address:</label>
            <div class="col-md-8">
              <textarea class="form-control" ng-model="data.addressTo" ng-required="true"></textarea>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Route:</label>
            <div class="col-md-8">
              <textarea class="form-control" ng-model="data.route" ng-required="true" style="min-height: 18em"></textarea>
            </div>
          </div>

          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Type of Vehicle:</label>
            <div class="col-md-8">
              <input type="text" class="form-control" ng-model="data.vehicle" ng-required="true" />
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Load Description:</label>
            <div class="col-md-8">
              <input type="text" class="form-control" ng-model="data.loadName" typeahead="l.name for l in filterLoads($viewValue)" typeahead-min-length="3" typeahead-editable="false" typeahead-loading="loading" typeahead-wait-ms="300" typeahead-on-select="setLoad($item, $model, $label)" />
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Number of Loads:</label>
            <div class="col-md-8">
              <input type="number" class="form-control" ng-model="data.numberOfLoads" ng-required="true" min="1" />
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Registration:</label>
            <div class="col-md-8">
              <input type="text" class="form-control" ng-model="data.reg" ng-required="true" />
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Return:</label>
            <div class="col-md-6 btn-group">
                <label class="btn btn-primary" ng-model="data.return" btn-radio="true">
                  <span class="fa fa-check"></span>
                  Yes
                </label>
                <label class="btn btn-primary" ng-model="data.return" btn-radio="false">
                  <span class="fa fa-times"></span>
                  No
                </label>
              </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label class="control-label col-md-4">Number of Comms:</label>
            <div class="col-md-8">
              <input type="number" class="form-control" ng-model="data.numberOfComms" ng-required="true" min="1" ng-change="priceJob()" />
            </div>
          </div>
        </div>


<!--
      <div class="form-group">
        <div class="col-md-6">
          <label class="control-label">Price: &pound;{{ data.price | number:2 }}</label>
          <label class="control-label" ng-show="data.vatRate > 0">VAT: &pound;{{ data.vat | number:2 }}</label></br>
          <label class="control-label">Total: &pound;{{ (data.price + data.vat) | number:2 }}</label>

        </div>
      </div>

      <div class="form-group">
        <div class="col-md-6">
          <button class="btn btn-primary" ng-click="saveJob()">Save</button>
          <button class="btn btn-primary" ng-show="showDelete" ng-click="deleteJob()">Delete</button>
          <button class="btn btn-primary" ng-show="showGenerateNotice" ng-click="generateNotice()">Generate Notice</button>
        </div>
      </div>
-->
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading">
        Price
      </div>
      <div class="panel-body form-horizontal">
        <div class="form-group">
          <label class="control-label col-md-4">Price:</label>
          <div class="col-md-8">
            <input type="text" class="form-control" ng-model="data.price" ng-required="true" readonly="readonly" />
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-md-4">VAT:</label>
          <div class="col-md-8">
            <input type="text" class="form-control" ng-model="data.vat" ng-required="true" readonly="readonly" />
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-md-4">Total:</label>
          <div class="col-md-8">
            <input type="text" class="form-control" ng-model="data.total" ng-required="true" readonly="readonly" />
          </div>
        </div>
        <div class="col-md-4">&nbsp;</div>
        <div class="col-md-8">
          <button class="btn btn-block btn-info" ng-click="saveJob()">
            <span class="fa fa-floppy-o"></span>
            Save
          </button>
          <br />
          <button class="btn btn-block btn-info" ng-click="generateNotice()">
            <span class="fa fa-print"></span>
            Print
          </button>
        </div>
      </div>
    </div>
  </div>

</form>
